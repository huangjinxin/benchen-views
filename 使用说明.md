# 北辰幼儿园每日观察系统 - 前端使用说明

> 一个简单的每日观察记录数据入口，用于查询和收集信息

## 快速开始

### 1. 启动服务

```bash
./start.sh
```

### 2. 访问系统

浏览器打开：

**每日观察记录：**
- **填写记录**: http://localhost:8828/index.html
- **查看记录**: http://localhost:8828/records.html

**值班播报记录：**
- **填写播报**: http://localhost:8828/duty-report.html
- **查看播报**: http://localhost:8828/duty-reports.html

### 3. 停止服务

```bash
./stop.sh
```

或直接按 `Ctrl+C`

### 4. 重启服务

```bash
./restart.sh
```

---

## 系统说明

### 工作模式

- 前端运行在 `http://localhost:8828`
- 后端API运行在 `http://localhost:8891`（需要一直开着）
- 系统自动使用配置的账号获取访问令牌
- 用户无需登录，直接使用

### 文件说明

| 文件 | 说明 |
|------|------|
| `index.html` | 填写每日观察记录 |
| `records.html` | 查看每日观察记录 |
| `duty-report.html` | 填写值班播报记录 ⭐ 新增 |
| `duty-reports.html` | 查看值班播报记录 ⭐ 新增 |
| `api-config.js` | API配置和自动认证 |
| `start.sh` | 启动脚本 ⭐ |
| `stop.sh` | 停止脚本 |
| `restart.sh` | 重启脚本 |
| `SETUP.md` | 详细技术文档 |
| `快速开始.md` | 一分钟上手指南 |

### API配置

如需修改后端地址或认证信息，编辑 `api-config.js`：

```javascript
const API_CONFIG = {
    baseURL: 'http://localhost:8891',  // 后端地址
    credentials: {
        email: 'admin@beichen.com',     // 自动登录邮箱
        password: 'admin123'             // 自动登录密码
    }
};
```

---

## 常见问题

### 启动失败？

**问题：端口被占用**
```bash
./stop.sh  # 先停止旧服务
./start.sh # 再启动
```

**问题：Python未安装**
- macOS/Linux: 通常已预装
- 或安装Node.js后使用：`npx http-server -p 8828`

### 无法保存数据？

1. 检查后端服务是否运行：
   ```bash
   curl http://localhost:8891
   ```

2. 检查浏览器控制台错误信息（F12 -> Console）

3. 确认后端数据库有对应的教师、班级、园区数据

### 如何查看报错？

1. **前端日志**: 浏览器按F12，查看Console标签
2. **网络请求**: 浏览器F12 -> Network标签
3. **启动日志**: 终端会显示启动信息和后端连接状态

---

## 端口说明

| 服务 | 端口 | 说明 |
|------|------|------|
| 前端 | 8828 | HTTP服务器 |
| 后端 | 8891 | NestJS API服务 |

如需修改前端端口，编辑 `start.sh` 中的 `PORT` 变量

---

## 脚本使用示例

```bash
# 第一次使用
./start.sh

# 查看终端输出，会显示：
# ✅ 后端服务器运行正常
# 🚀 启动前端服务...
# 📋 访问地址：http://localhost:8828/index.html

# 重启服务
./restart.sh

# 停止服务
./stop.sh
```

---

## 更多信息

- 详细技术文档：[SETUP.md](./SETUP.md)
- 快速指南：[快速开始.md](./快速开始.md)
- 后端API文档：http://localhost:8891/api

---

**祝使用愉快！** 🌟
